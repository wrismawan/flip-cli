<?php
    require __DIR__ . '/vendor/autoload.php';
    use FlipCLI\App;

    if (php_sapi_name() !== 'cli') {
        exit;
    }

    App::setConfig(require 'config.php');

    $app = new App();
    $app->registerController('hello', new \App\Controllers\HelloController($app, $argv));
    $app->registerController('help', new \App\Controllers\HelpController($app, $argv));
    $app->registerController('disbursement', new \App\Controllers\DisbursementController($app, $argv));
    $app->registerController('db_migrate', new \Database\DBMigration($app, $argv));

    $app->runCommand($argv);